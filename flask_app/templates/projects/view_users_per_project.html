{% extends 'index.html' %}

{% block content %}

<div class="mt-5 p-5">
    <div class="text-center mb-5 text-white">
        <h3>Users for {{project.project_name}}</h3>
    </div>
    <a href="/add_user_to_project/{{ project.id }}" class="btn btn-success mb-5">Add User(s)</a>
    <a href="/wallchart/{{project.id}}" class="btn btn-secondary mb-5">Go to Wallchart</a>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">User Name</th>
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">Email</th>
                <th scope="col">Permissions</th>
                <th scope="col">Edit</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr>
                <td>{{user.user_name}}</td>
                <td>{{ user.first_name }}</td>
                <td>{{ user.last_name }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.role }}</td>
                <td>
                    <a href="/edit_user/{{ user.id }}" class="btn btn-secondary">Edit User</a>
                    <form action="/remove_user_from_project/{{ project.id }}/{{ user.id }}" method="post" style="display:inline;">
                        <button type="submit" class="btn btn-danger">Remove</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}

